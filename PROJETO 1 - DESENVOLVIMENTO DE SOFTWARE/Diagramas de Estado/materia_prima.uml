@startuml
title Diagrama de Estados - Ciclo de Vida da Matéria-Prima

state "Em Teste" as teste
state "Disponível" as disponivel
state "Reservado" as reservado
state "Em Produção" as producao
state "Quarentena" as quarentena
state "Bloqueado" as bloqueado
state "Vencido" as vencido
state "Consumido" as consumido

[*] --> teste : Recebimento

teste --> disponivel : Aprovado no recebimento
teste --> quarentena : Análise necessária
teste --> bloqueado : Reprovado

disponivel --> reservado : Reservado para pedido
reservado --> producao : Utilizado em produção
producao --> consumido : Consumido totalmente

disponivel --> quarentena : Suspeita de contaminação
quarentena --> disponivel : Liberado pela qualidade
quarentena --> bloqueado : Reprovado

disponivel --> vencido : Data validade expirada
reservado --> vencido : Data validade expirada
bloqueado --> [*] : Descarte/Destruição
vencido --> [*] : Descarte/Destruição
consumido --> [*]

note right of teste
  **Recebimento**
  MP recebida e em
  análise inicial de
  qualidade
end note

note left of quarentena
  **Área Controlada**
  MP aguarda análise
  mais detalhada ou
  decisão técnica
end note

@enduml