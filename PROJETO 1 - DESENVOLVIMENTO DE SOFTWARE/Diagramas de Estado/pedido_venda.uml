@startuml
title Diagrama de Estados - Ciclo de Vida do Pedido de Venda

state "Rascunho" as rascunho
state "Cotação Enviada" as cotacao
state "Em Negociação" as negociacao
state "Aprovado" as aprovado
state "Em Produção" as producao
state "Pronto para Expedição" as pronto
state "Expedido" as expedido
state "Entregue" as entregue
state "Cancelado" as cancelado
state "Faturado" as faturado

[*] --> rascunho

rascunho --> cotacao : Vendedor envia
cotacao --> negociacao : Cliente responde
negociacao --> cotacao : Cliente solicita ajustes
negociacao --> aprovado : Cliente aceita
negociacao --> cancelado : Cliente recusa

aprovado --> producao : Converter em ordem produção
producao --> pronto : Produção concluída
pronto --> expedido : Expedido ao cliente
expedido --> entregue : Cliente recebe
entregue --> faturado : Fatura gerada

aprovado --> cancelado : Sem estoque
producao --> cancelado : Problema produção
pronto --> cancelado : Cliente desistiu

faturado --> [*]
cancelado --> [*]

note right of rascunho
  **Fase Comercial**
  Vendedor elabora
  cotação com produtos
  e preços
end note

note left of producao
  **Fase Industrial**
  Pedido vira ordem
  de produção no
  sistema
end note

@enduml