@startuml
title Diagrama de Sequência - Processo de Venda

actor Vendedor
actor Cliente
actor Gerente
participant "Sistema\nVendas" as Vendas
participant "Sistema\nEstoque" as Estoque
participant "Sistema\nProdução" as Producao
participant "Sistema\nFinanceiro" as Financeiro

Vendedor -> Vendas: Criar nova cotação
Vendas -> Vendas: Cadastrar dados cliente
Vendas -> Estoque: Consultar disponibilidade produtos
Estoque --> Vendas: Listar produtos disponíveis
Vendas -> Vendas: Calcular preços e prazos
Vendas --> Vendedor: Proposta comercial gerada

Vendedor -> Vendas: Enviar proposta para cliente [X]
Vendas -> Cliente: Email com proposta PDF
Cliente -> Vendedor: Solicitar ajustes preço
Vendedor -> Gerente: Solicitar aprovação desconto
Gerente -> Vendas: Aprovar desconto especial
Vendas -> Cliente: Enviar proposta revisada

Cliente -> Vendedor: Aceitar proposta
Vendedor -> Vendas: Converter em pedido [Y]
Vendas -> Financeiro: Verificar limite crédito
Financeiro --> Vendas: Crédito aprovado
Vendas -> Estoque: Reservar estoque
Estoque --> Vendas: Estoque reservado
Vendas -> Producao: Gerar ordem produção
Producao --> Vendas: Ordem produção criada
Vendas -> Cliente: Enviar confirmação pedido
Vendas --> Vendedor: Pedido Y confirmado

@enduml