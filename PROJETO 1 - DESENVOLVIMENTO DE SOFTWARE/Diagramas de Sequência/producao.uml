@startuml
title Diagrama de Sequência - Processo de Produção Completo

actor Gerente
actor Operador
participant "Sistema\nProdução" as Sistema
participant "Controle\nQualidade" as Qualidade
participant "Sistema\nEstoque" as Estoque
participant "Sistema\nVendas" as Vendas

Gerente -> Sistema: Consultar ordens pendentes
Sistema --> Gerente: Listar ordens com prioridade

Gerente -> Sistema: Autorizar ordem produção [X]
Sistema -> Estoque: Verificar matéria-prima
Estoque --> Sistema: Confirmar disponibilidade
Sistema -> Sistema: Criar lote de produção
Sistema --> Gerente: Ordem autorizada (lote Y)

Operador -> Sistema: Consultar ordens autorizadas
Sistema --> Operador: Mostrar lote Y para produção

Operador -> Sistema: Iniciar produção lote Y
Sistema -> Sistema: Registrar início produção
Sistema --> Operador: Produção iniciada

loop A cada 30 min
  Operador -> Sistema: Registrar parâmetros produção
  Sistema -> Sistema: Armazenar dados monitoramento
  Sistema --> Operador: Parâmetros aceitos
end

Operador -> Sistema: Finalizar produção lote Y
Sistema -> Qualidade: Solicitar controle qualidade
Qualidade -> Qualidade: Realizar testes
Qualidade --> Sistema: Resultado: Aprovado
Sistema -> Estoque: Atualizar estoque produto final
Estoque --> Sistema: Estoque atualizado
Sistema -> Vendas: Notificar produção concluída
Sistema --> Operador: Produção finalizada com sucesso

@enduml